<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Multi_Saves_Backup_Tool.ViewModels"
             xmlns:models="using:Multi_Saves_Backup_Tool.Models"
             xmlns:properties="clr-namespace:Properties"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Multi_Saves_Backup_Tool.Views.SettingsView"
             x:DataType="vm:SettingsViewModel"
             x:Name="RootControl">

    <Grid RowDefinitions="Auto,*">

        <Grid Grid.Row="0" Margin="12" RowDefinitions="Auto">
            <Grid Grid.Row="0" ColumnDefinitions="*,Auto" Margin="0,0,0,12">
                <TextBlock VerticalAlignment="Center"
                           Text="{Binding CurrentVersion}"
                           Opacity="0.7"
                           FontSize="14" />
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    <Button Content="{x:Static properties:Resources.ExportTitle}"
                            Command="{Binding ExportSettingsCommand}"
                            VerticalAlignment="Center" />
                    <Button Content="{x:Static properties:Resources.ImportTitle}"
                            Command="{Binding ImportSettingsCommand}"
                            VerticalAlignment="Center" />
                    <Button Content="{x:Static properties:Resources.SettingsView_Save}"
                            Command="{Binding SaveCurrentSettingsCommand}"
                            Classes="accent"
                            VerticalAlignment="Center" />
                </StackPanel>
            </Grid>
        </Grid>

        <ScrollViewer Grid.Row="1" Margin="16,0">
            <StackPanel Spacing="12">

                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        Padding="20"
                        CornerRadius="8">
                    <StackPanel Spacing="16">
                        <TextBlock Text="{x:Static properties:Resources.SettingsView_BackupSettings}"
                                   FontWeight="SemiBold"
                                   FontSize="20"
                                   Margin="0,0,0,8" />

                        <StackPanel>
                            <TextBlock Text="{x:Static properties:Resources.SettingsView_BackupFolder}"
                                       FontWeight="Medium"
                                       FontSize="14"
                                       Margin="0,0,0,6" />
                            <Grid ColumnDefinitions="*,Auto">
                                <TextBox Grid.Column="0"
                                         Text="{Binding BackupRootFolder}"
                                         Margin="0,0,12,0" />
                                <Button Grid.Column="1"
                                        Content="{x:Static properties:Resources.SettingsView_Browse}"
                                        Command="{Binding BrowseBackupFolderCommand}" />
                            </Grid>
                        </StackPanel>

                        <StackPanel>
                            <TextBlock Text="{x:Static properties:Resources.SettingsView_ScanInterval}"
                                       FontWeight="Medium"
                                       FontSize="14"
                                       Margin="0,0,0,6" />
                            <NumericUpDown Value="{Binding Settings.BackupSettings.ScanIntervalMinutes, Mode=TwoWay}"
                                           Minimum="1"
                                           Maximum="1440"
                                           Increment="1"
                                           FormatString="0"
                                           Width="200"
                                           HorizontalAlignment="Left" />
                            <TextBlock Text="{x:Static properties:Resources.SettingsView_minutes}"
                                       Opacity="0.6"
                                       FontSize="12"
                                       Margin="0,4,0,0" />
                        </StackPanel>

                        <StackPanel>
                            <TextBlock Text="{x:Static properties:Resources.SettingsView_MaxParallelOperations}"
                                       FontWeight="Medium"
                                       FontSize="14"
                                       Margin="0,0,0,6" />
                            <NumericUpDown Value="{Binding Settings.BackupSettings.MaxParallelBackups, Mode=TwoWay}"
                                           Minimum="1"
                                           Maximum="10"
                                           Increment="1"
                                           FormatString="0"
                                           Width="200"
                                           HorizontalAlignment="Left" />
                            <TextBlock Text="{x:Static properties:Resources.SettingsView_simultaneousbackups}"
                                       Opacity="0.6"
                                       FontSize="12"
                                       Margin="0,4,0,0" />
                        </StackPanel>

                        <StackPanel>
                            <TextBlock Text="{x:Static properties:Resources.SettingsView_CompressionLevel}"
                                       FontWeight="Medium"
                                       FontSize="14"
                                       Margin="0,0,0,6" />
                            <ComboBox SelectedItem="{Binding Settings.BackupSettings.CompressionLevel}"
                                      Width="200"
                                      HorizontalAlignment="Left">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock
                                            Text="{Binding Mode=OneTime, Converter={StaticResource CompressionLevelConverter}}" />
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                                <models:CompressionLevel>Fastest</models:CompressionLevel>
                                <models:CompressionLevel>Optimal</models:CompressionLevel>
                                <models:CompressionLevel>SmallestSize</models:CompressionLevel>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel>
                            <TextBlock Text="{x:Static properties:Resources.SettingsView_LoggingSettings}"
                                       FontWeight="Medium"
                                       FontSize="14"
                                       Margin="0,0,0,6" />
                            <CheckBox Content="{x:Static properties:Resources.SettingsView_EnableLogging}"
                                      IsChecked="{Binding Settings.BackupSettings.EnableLogging}" />
                        </StackPanel>
                    </StackPanel>
                </Border>

                <Border Background="{DynamicResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{DynamicResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        Padding="20"
                        CornerRadius="8">
                    <StackPanel Spacing="16">
                        <TextBlock Text="{x:Static properties:Resources.SettingsView_CommunityLists}"
                                   FontWeight="SemiBold"
                                   FontSize="20"
                                   Margin="0,0,0,8" />

                        <TextBlock Text="{x:Static properties:Resources.SettingsView_synccommunitytext}"
                                   Opacity="0.7"
                                   FontSize="13"
                                   Margin="0,0,0,8" />

                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <Button Content="{x:Static properties:Resources.SettingsView_SyncBlacklist}"
                                    Command="{Binding SyncBlacklistCommand}" />
                            <Button Content="{x:Static properties:Resources.SettingsView_SyncWhitelist}"
                                    Command="{Binding SyncWhitelistCommand}" />
                        </StackPanel>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>
    </Grid>

</UserControl>